<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®° | ğ‘ºğ’‚ğ’.ğ‘´ğ’</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®°">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://moshuanghua.com/2019/01/11/55-Androidè‡ªå®šä¹‰View-ç¬”è®°/index.html">
<meta property="og:site_name" content="ğ‘ºğ’‚ğ’.ğ‘´ğ’">
<meta property="og:description" content="Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®°">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-08-13T01:17:59.453Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®°">
<meta name="twitter:description" content="Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®°">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="https://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
  
</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="https://avatars3.githubusercontent.com/u/8361358?s=460&amp;v=4" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ğ‘ºğ’‚ğ’.ğ‘´ğ’</a></h1>
		</hgroup>

		
		<p class="header-subtitle">æŠ€æœ¯ä¸ç”Ÿæ´»å¹¶è‚©ä½œæˆ˜ã€‚</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>èœå•</li>
						<li>æ ‡ç­¾</li>
						
						<li>å‹æƒ…é“¾æ¥</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives">å½’æ¡£</a></li>
				        
							<li><a href="/about">å…³äº</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/shuanghua" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/shhua17@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Java/" style="font-size: 12.5px;">Java</a> <a href="/tags/Kotlin/" style="font-size: 17.5px;">Kotlin</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/æ‰‹æœº/" style="font-size: 10px;">æ‰‹æœº</a> <a href="/tags/æŠ˜è…¾/" style="font-size: 10px;">æŠ˜è…¾</a> <a href="/tags/æ‚æ–‡/" style="font-size: 10px;">æ‚æ–‡</a> <a href="/tags/ç¡¬ä»¶/" style="font-size: 10px;">ç¡¬ä»¶</a> <a href="/tags/é€šçŸ¥/" style="font-size: 10px;">é€šçŸ¥</a> <a href="/tags/é—²è¯/" style="font-size: 12.5px;">é—²è¯</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://moshuanghua.com">å‹é“¾</a>
			        
			        </div>
				</section>
				

				
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">ğ‘ºğ’‚ğ’.ğ‘´ğ’</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars3.githubusercontent.com/u/8361358?s=460&amp;v=4" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">ğ‘ºğ’‚ğ’.ğ‘´ğ’</h1>
			</hgroup>
			
			<p class="header-subtitle">æŠ€æœ¯ä¸ç”Ÿæ´»å¹¶è‚©ä½œæˆ˜ã€‚</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives">å½’æ¡£</a></li>
		        
					<li><a href="/about">å…³äº</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/shuanghua" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/shhua17@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-55-Androidè‡ªå®šä¹‰View-ç¬”è®°" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/01/11/55-Androidè‡ªå®šä¹‰View-ç¬”è®°/" class="article-date">
  	<time datetime="2019-01-10T16:00:00.000Z" itemprop="datePublished">2019-01-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android è‡ªå®šä¹‰ View å­¦ä¹ ç¬”è®°
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">	
      
	  
		
		
        <ul>
<li>Paint.setStyle(Style style) è®¾ç½®ç»˜åˆ¶æ¨¡å¼,FILL, STROKE å’Œ  FILL_AND_STROKE,å¡«å……ï¼Œçº¿æ¡å’Œä¸¤è€…çš„ç»“åˆ</li>
<li>Paint.setColor(int color) è®¾ç½®é¢œè‰²</li>
<li>Paint.setStrokeWidth(float width) è®¾ç½®çº¿æ¡å®½åº¦</li>
<li>Paint.setTextSize(float textSize) è®¾ç½®æ–‡å­—å¤§å°</li>
<li>Paint.setAntiAlias(boolean aa) è®¾ç½®æŠ—é”¯é½¿å¼€å…³ æˆ–è€… new Paint(ANTI_ALIAS_FLAG)</li>
<li>paint.setStrokeCap(cap) è®¾ç½®çº¿æ¡ç«¯ç‚¹çš„å½¢çŠ¶ï¼ŒRound=åœ†ï¼Œ Square=æ–¹å½¢ï¼Œ Butt=å¹³è¡Œ</li>
<li>paint.setTextSize(float textSize)</li>
</ul>
<a id="more"></a>
<h1 id="æµ‹é‡"><a href="#æµ‹é‡" class="headerlink" title="æµ‹é‡"></a>æµ‹é‡</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onMeasure</span><span class="params">(<span class="keyword">int</span> widthMeasureSpec, <span class="keyword">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Log.v("ProgressBarView onMeasure w:", MeasureSpec.toString(widthMeasureSpec));</span></span><br><span class="line">    <span class="comment">//Log.v("ProgressBarView onMeasure h:", MeasureSpec.toString(heightMeasureSpec));</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> widthSize = MeasureSpec.getSize(widthMeasureSpec);</span><br><span class="line">    <span class="keyword">int</span> heightSize = MeasureSpec.getSize(heightMeasureSpec);</span><br><span class="line">    <span class="keyword">int</span> widthMode = MeasureSpec.getMode(widthMeasureSpec);</span><br><span class="line">    <span class="keyword">int</span> heightMode = MeasureSpec.getMode(heightMeasureSpec);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> height, width;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (widthMode == MeasureSpec.EXACTLY) &#123;<span class="comment">// çˆ¶ View åšäº†æœ€å¤§å°ºå¯¸é™åˆ¶ï¼š å½“å­ view è®¾ç½®äº†å…·ä½“çš„å°ºå¯¸ æˆ– å½“å­ view è®¾ç½®ä¸º match_parent</span></span><br><span class="line">        width = widthSize;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (widthMode == MeasureSpec.AT_MOST) &#123;<span class="comment">// çˆ¶ View åšäº†æœ€å¤§å°ºå¯¸é™åˆ¶ï¼š å½“å­ view è®¾ç½®ä¸º wrap_contentï¼Œ ä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦åšä¸€ä¸ªæœ€ä½å°ºå¯¸çš„é™åˆ¶</span></span><br><span class="line">        <span class="keyword">int</span> minWidth = dp2px(getContext(), <span class="number">360</span>);</span><br><span class="line">        width = Math.min(minWidth, widthSize);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;<span class="comment">// çˆ¶ view æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œä¾‹å¦‚ RecyclerView ã€ ScrollView , å­ view å¯ä»¥ä»»æ„å¤§å°,</span></span><br><span class="line">        width = widthSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (heightMode == MeasureSpec.EXACTLY) &#123;</span><br><span class="line">        height = heightSize;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (heightMode == MeasureSpec.AT_MOST) &#123;</span><br><span class="line">        <span class="keyword">int</span> minHeight = dp2px(getContext(), <span class="number">100</span>);</span><br><span class="line">        height = Math.min(minHeight, widthSize);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        height = heightSize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    setMeasuredDimension(width, height);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h1><h2 id="åæ ‡"><a href="#åæ ‡" class="headerlink" title="åæ ‡"></a>åæ ‡</h2><ul>
<li>translate(x, y) è®¾ç½®æ–°çš„åæ ‡ç³»åŸç‚¹</li>
</ul>
<h2 id="å½¢çŠ¶"><a href="#å½¢çŠ¶" class="headerlink" title="å½¢çŠ¶"></a>å½¢çŠ¶</h2><ul>
<li><p>canvas.drawText(text, x, y, paint) ç»˜åˆ¶æ–‡å­—</p>
<blockquote>
<p>x,y ç»˜åˆ¶çš„èµ·ç‚¹åæ ‡,text:ç»˜åˆ¶çš„æ–‡æœ¬å†…å®¹ï¼Œå…¶å®æ–‡å­—çš„ç»˜åˆ¶ä¸ç®€å•ã€‚</p>
</blockquote>
</li>
<li><p>drawRect(left, top, right, bottom,paint) çŸ©å½¢</p>
<blockquote>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ left å’Œ bottom çš„ y åæ ‡ä¸€è‡´ï¼›top å’Œ right x çš„åæ ‡ä¸€è‡´ã€‚</p>
</blockquote>
</li>
<li><p>drawPoint(x,y,paint)  å•ç‚¹</p>
</li>
<li><p>drawPoints(float[] pts, int offset, int count,Paint paint) å¤šä¸ªç‚¹</p>
<blockquote>
<p>offsetï¼šæ’é™¤æ•°ç»„ pts ä¸­çš„å‰å¤šå°‘ä¸ªæ•°å€¼ã€‚countï¼šå–å‡ºæ•°ç»„ä¸­å¤šå°‘ä¸ªæ•°å€¼æ¥ç»„åˆæˆåæ ‡)</p>
</blockquote>
</li>
<li><p>drawOval(float left, float top, float right, float bottom, Paint paint) æ¤­åœ†</p>
<blockquote>
<p>é»˜è®¤åªèƒ½ç»˜åˆ¶æ¨ªç€çš„æˆ–è€…ç«–ç€çš„æ¤­åœ†ï¼Œä¸èƒ½ç»˜åˆ¶æ–œçš„</p>
</blockquote>
</li>
<li><p>drawRoundRect(float left, float top, float right, float bottom, float rx, float ry, Paint paint) åœ†è§’çŸ©å½¢</p>
<blockquote>
<p>Api &gt;= 21</p>
</blockquote>
</li>
<li><p>drawRoundRect(new Rectf, float rx, float ry, paint) åœ†è§’çŸ©å½¢</p>
<blockquote>
<p>Api &lt; 21</p>
</blockquote>
</li>
<li><p>drawArc(float left, float top, float right, float bottom, float startAngle, float sweepAngle, boolean useCenter, Paint paint) å¼§å½¢æˆ–æ‰‡å½¢</p>
<blockquote>
<p>left, top, right, bottom ç»˜åˆ¶äº†ä¸€ä¸ªæ¤­åœ†ï¼›startAngleï¼šå¼§å½¢çš„èµ·å§‹è§’åº¦ï¼Œx åæ ‡ä½œä¸ºæ°´å¹³çº¿ï¼Œé¡ºæ—¶é’ˆä¸ºæ­£è§’åº¦ã€‚sweepAngleï¼šå¼§å½¢åˆ’è¿‡çš„è§’åº¦ã€‚useCenterï¼šæ˜¯å¦è¿æ¥åˆ°æ¤­åœ†åœ†å¿ƒï¼Œå¦‚æœä¸è¿æ¥åˆ°æ¤­åœ†åœ†å¿ƒï¼Œå°±æ˜¯å¼§å½¢ï¼Œå¦‚æœè¿æ¥åˆ°æ¤­åœ†åœ†å¿ƒï¼Œå°±æ˜¯æ‰‡å½¢ã€‚</p>
</blockquote>
</li>
</ul>
<h2 id="è·¯å¾„-Path"><a href="#è·¯å¾„-Path" class="headerlink" title="è·¯å¾„ Path"></a>è·¯å¾„ Path</h2><p>é€šè¿‡ä½¿ç”¨ path ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶å„ç§è§„åˆ™æˆ–ä¸è§„åˆ™å›¾å½¢</p>
<p>ä¸»è¦é€šè¿‡ canvas.drawPath(Path path, Paint paint) æ¥ç»˜åˆ¶,path ç¡®å®šç»˜åˆ¶çš„å½¢çŠ¶</p>
<ul>
<li><p>addCircle(float x, float y, float radius, Direction dir) åœ†</p>
<blockquote>
<p>dir : å½“è¿™ä¸ªåœ†å’Œåˆ«çš„ View é‡å æ—¶ï¼Œç»˜åˆ¶é‡å éƒ¨åˆ†è¿˜æ˜¯ä¸é‡å éƒ¨åˆ†,ä¸€èˆ¬ç”»ç¬”è®¾ç½®ä¸ºå¡«å……æ—¶æœ‰ç”¨ã€‚</p>
</blockquote>
</li>
<li><p>lineTo(float x, float y) ç”»ç›´çº¿</p>
<blockquote>
<p>ç»å¯¹åæ ‡æ¥ç»˜åˆ¶</p>
</blockquote>
</li>
<li><p>rLineTo(float x, float y) ç”»ç›´çº¿</p>
<blockquote>
<p>ç›¸å¯¹åæ ‡æ¥ç»˜åˆ¶</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">paint.setStyle(Style.STROKE);  </span><br><span class="line">path.lineTo(<span class="number">100</span>, <span class="number">100</span>); <span class="comment">// ç”±å½“å‰ä½ç½® (0, 0) å‘ (100, 100) ç”»ä¸€æ¡ç›´çº¿  </span></span><br><span class="line">path.rLineTo(<span class="number">100</span>, <span class="number">0</span>); <span class="comment">// ç”±å½“å‰ä½ç½® (100, 100) å‘æ­£å³æ–¹ 100 åƒç´ çš„ä½ç½®ç”»ä¸€æ¡ç›´çº¿</span></span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>quadTo(float x1, float y1, float x2, float y2) äºŒé˜¶è´å¡å°”æ›²çº¿</p>
</li>
<li><p>cubicTo(float x1, float y1, float x2, float y2, float x3, float y3) ä¸‰é˜¶è´å¡å°”</p>
</li>
<li><p>moveTo(float x, float y) å°†è·¯å¾„ç§»åŠ¨åˆ°æŸä¸ªä½ç½®</p>
</li>
<li><p>arcTo(RectF oval, float startAngle, float sweepAngle, boolean forceMoveTo) å¼§å½¢(ä¸è¿æ¥åœ†å¿ƒ)</p>
<blockquote>
<p>forceMoveTo :ç»˜åˆ¶æ˜¯è¦ã€ŒæŠ¬ä¸€ä¸‹ç¬”ç§»åŠ¨è¿‡å»ã€ï¼Œè¿˜æ˜¯ã€Œç›´æ¥æ‹–ç€ç¬”è¿‡å»ã€ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦ç•™ä¸‹ç§»åŠ¨çš„ç—•è¿¹,trueç›´æ¥è·³è¿‡å»ï¼Œfalse è¿ä¸€æ¡ç›´çº¿åˆ°è¯¥å¼§çº¿çš„èµ·ç‚¹,ç„¶åå¼€å§‹ç»˜åˆ¶è¿™ä¸ªå¼§å½¢ã€‚ä¸€èˆ¬åœ¨ç»˜åˆ¶è¯¥å›¾å½¢ä¹‹å‰å·²ç»ç»˜åˆ¶äº†åˆ«çš„å›¾å½¢ä¼šç”¨åˆ°ã€‚</p>
</blockquote>
</li>
<li><p>addArc(RectF oval, float startAngle, float sweepAngle) å¼§å½¢</p>
<blockquote>
<p>å’Œ arcTo çš„åŒºåˆ«æ˜¯ï¼ŒaddArc çš„ forceMoveTo é»˜è®¤ä¸º true</p>
</blockquote>
</li>
<li><p>close() å°é—­å½“å‰å­å›¾å½¢ï¼ˆä¸¤ä¸ªè·¯å¾„å­˜åœ¨è¿æ¥ï¼‰</p>
<blockquote>
<p>ä¾‹å¦‚æˆ‘ä»¬ç”¨ path æè¿°äº† ä¸¤æ¡è¿æ¥ä½†æ–¹å‘ä¸åŒçš„ç›´çº¿ï¼Œå¦‚æœè°ƒç”¨ close,é‚£ä¹ˆä¼šå½¢æˆä¸€ä¸ªä¸‰è§’å½¢ã€‚ æˆ–è€…ç†è§£ä¸º close() = linTo(èµ·ç‚¹åæ ‡)ã€‚å½“ç”»ç¬”ä¸ºå¡«å……çŠ¶æ€æ—¶ï¼Œpath é»˜è®¤æ‰§è¡Œ close()</p>
</blockquote>
</li>
</ul>
<h2 id="Bitmap"><a href="#Bitmap" class="headerlink" title="Bitmap"></a>Bitmap</h2><p>å¿…é¡»å¾—å…ˆæœ‰ä¸€ä¸ª Bitmap å¯¹è±¡ï¼Œç„¶åæŠŠè¿™ä¸ªbitmapå¯¹è±¡çš„åƒç´ æ”¾åˆ°æ–°çš„ Bitmap ä¸Šï¼Œåœ¨ç»˜åˆ¶åˆ°æ–°çš„ Bitmap æ—¶ï¼Œä½ å¯ä»¥æ§åˆ¶ç»˜åˆ¶çš„åæ ‡</p>
<ul>
<li><p>drawBitmap(Bitmap bitmap, float left, float top, Paint paint) ç”» Bitmap</p>
<blockquote>
<p>leftï¼Œ top å·¦ä¸Šè§’çš„åæ ‡</p>
</blockquote>
</li>
<li><p>drawBitmap(Bitmap bitmap, Rect src, RectF dst, Paint paint) åŒ…å« dst çš„é‡å è§„åˆ™ç»˜åˆ¶</p>
<blockquote>
<p>RectF æ¯” Rect çš„ç²¾åº¦æ›´é«˜</p>
</blockquote>
</li>
<li><p>drawBitmap(Bitmap bitmap, Matrix matrix, Paint paint) Matrix çŸ©é˜µå˜æ¢</p>
</li>
</ul>
<h2 id="é‡å "><a href="#é‡å " class="headerlink" title="é‡å "></a>é‡å </h2><ul>
<li>Path.setFillType(Path.FillType ft) è®¾ç½®å¡«å……æ–¹å¼</li>
</ul>
<blockquote>
<p>å¡«å……é‡å éƒ¨åˆ†è¿˜æ˜¯ä¸é‡å éƒ¨åˆ†ï¼Œæˆ–è€…å…¨éƒ¨å¡«å……ç»˜åˆ¶<br> ã€WINDINGï¼šå…¨å¡«å……ã€‘<br> ã€EVEN_ODDï¼šäº¤å‰å¡«å……ã€‘<br> ã€INVERSE_WINDINGï¼šåè‰²å…¨å¡«å……ã€‘<br> ã€INVERSE_EVEN_ODDï¼šåè‰²äº¤å‰å¡«å……ã€‘<br>  path é»˜è®¤å€¼æ˜¯ WINDINGã€‚</p>
</blockquote>
<blockquote>
<p>ä»¥ä¸Šçš„è§£é‡Šå¹¶ä¸å…¨é¢ï¼Œ</p>
</blockquote>
<ul>
<li><p>EVEN_ODD å¥‡å¶æ•°</p>
<blockquote>
<p>EVEN_ODD ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š å¥‡å¶æ•°<br>åœ¨å›¾å½¢å†…ä»»æ„åœ°æ–¹å‘å›¾å½¢å¤–ç”»ä¸€æ¡å°„çº¿ï¼Œè¯¥ç›´çº¿ä¼šä¸å›¾å½¢ç›¸äº¤ï¼Œè®°å½•ç›¸äº¤çš„ç‚¹æ•°ï¼Œå½“ç›¸äº¤ç‚¹çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶ï¼Œè¡¨æ˜å°„çº¿çš„èµ·ç‚¹æ‰€åœ¨åŒºåŸŸä¸æ˜¯å¡«å……åŒºã€‚å¥‡æ•°åˆ™æ˜¯å¡«å……åŒºã€‚ã€ä¸»è¦çœ‹å°„çº¿èµ·ç‚¹æ‰€åœ¨çš„ä½ç½®ï¼Œå¶æ•°å–åã€‘</p>
</blockquote>
</li>
<li><p>WINDING éé›¶ç¯ç»•æ•°åŸåˆ™</p>
<blockquote>
<p>æ ¹æ®ç”»ç¬”çš„ç»˜åˆ¶æ–¹å‘ï¼Œç„¶åå’Œä¸Šé¢ä¸€æ ·å…ˆç”»ä¸€æ¡å°„çº¿ï¼Œè¯¥å°„çº¿ç¢°åˆ°é¡ºæ—¶é’ˆï¼Œç‚¹æ•°+1ï¼›é‡åˆ°é€†æ—¶é’ˆ-1ï¼Œè®¡ç®—æœ€åçš„ç‚¹æ•°ï¼Œå½“æœ€åçš„ç‚¹æ•°ä¸ä¸º0æ—¶ï¼ˆåŒ…æ‹¬è´Ÿæ•°ï¼‰ï¼Œè¯´æ˜å°„çº¿èµ·ç‚¹æ‰€åœ¨çš„åŒºåŸŸå°±æ˜¯å¡«å……åŒºï¼›å½“ç‚¹æ•°ä¸º0æ—¶å¡«å……è¯¥å°„çº¿èµ·ç‚¹æ‰€åœ¨åŒºåŸŸçš„å¤–éƒ¨ã€‚ã€é‡0å–åã€‘</p>
</blockquote>
</li>
</ul>
<h4 id="PorterDuff-Mode"><a href="#PorterDuff-Mode" class="headerlink" title="PorterDuff.Mode"></a>PorterDuff.Mode</h4><h1 id="æ•ˆæœ-é¢œè‰²"><a href="#æ•ˆæœ-é¢œè‰²" class="headerlink" title="æ•ˆæœ-é¢œè‰²"></a>æ•ˆæœ-é¢œè‰²</h1><p>ç®€å•çš„é¢œè‰²è®¾ç½®æœ‰ paint.setColorã€canvas.drawColor()ï¼Œå¤æ‚é¢œè‰²ï¼šShader,Paint è®¾ç½® Shader åï¼ŒsetColor ä¸ä¼šç”Ÿæ•ˆ</p>
<h2 id="Shader"><a href="#Shader" class="headerlink" title="Shader"></a>Shader</h2><p>ä¸€èˆ¬çš„æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯ Shader çš„å­ç±»,ã€LinearGradient çº¿æ€§æ¸å˜ã€‘ã€ RadialGradient è¾å°„æ¸å˜ã€‘ ã€SweepGradientã€‘ ã€BitmapShaderã€‘ã€ ComposeShaderã€‘.</p>
<blockquote>
<p>CLAMP: å•è‰²å‡å¼±æ¸å˜<br>MIRROR: é•œé¢ï¼Œå…ˆå°†å•è‰²åå°„æˆåŒè‰²ï¼Œç„¶åæ¸å˜<br>REPEAT: é‡å¤ï¼Œä¸¤ç§é¢œè‰²çš„è¾¹ç•Œæ¯”è¾ƒæ˜æ˜¾</p>
</blockquote>
<ul>
<li><p>LinearGradient(float x0, float y0, float x1, float y1, int color0, int color1, Shader.TileMode tile)</p>
<blockquote>
<p>ä¸¤ä¸ªç«¯ç‚¹çš„åæ ‡å’Œé¢œè‰²ï¼Œtile:æ¸å˜çš„æ¨¡å¼ CLAMP, MIRROR å’Œ  REPEAT</p>
</blockquote>
</li>
<li><p>RadialGradient(float centerX, float centerY, float radius, int centerColor, int edgeColor, TileMode tileMode) è¾å°„æ¸å˜</p>
<blockquote>
<p>ç±»ä¼¼äºåœ†åœˆçš„æ¸å˜ï¼Œç”±ä¸­å¿ƒæƒ³å››å‘¨æ¸å˜</p>
</blockquote>
</li>
<li><p>SweepGradient(float cx, float cy, int color0, int color1) æ‰«ææ¸å˜</p>
<blockquote>
<p>ç±»ä¼¼é›·è¾¾å±å¹•çš„é‚£ç§</p>
</blockquote>
</li>
<li><p>BitmapShader(Bitmap bitmap, Shader.TileMode tileX, Shader.TileMode tileY) Bitmpa ç€è‰²</p>
<blockquote>
<p>å°† bitmap æŒ‰ç…§TileModeä¸¤ä¸ªæ–¹å‘è¿›è¡Œç€è‰²å’Œæ‹‰ä¼¸ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç»˜åˆ¶åœ†å½¢çŠ¶ Bitmapï¼Œå…ˆæŠŠè¿™ä¸ª bitmapShader ç”Ÿæˆå‡ºæ¥ï¼Œç„¶åset ç»™ Paint,æœ€åè®© canvas.Circle(paint) å³å¯</p>
</blockquote>
</li>
<li><p>ComposeShader(Shader shaderA, Shader shaderB, PorterDuff.Mode mode) æ··åˆä¸¤ä¸ª Shader</p>
<blockquote>
<p>å‡å¦‚è¿™ä¸¤ä¸ª shader éƒ½æ˜¯ Bitmap,é‚£æœ€åçš„ç»˜åˆ¶å°±å¯èƒ½ä¼šç¢°åˆ°é‡å çš„åœºæ™¯ï¼Œæœ€åä¸€ä¸ªå‚æ•° PorterDuff.Mode å°±æ˜¯ç»˜åˆ¶é‡å çš„ç­–ç•¥,ç›´æ¥çœ‹å®˜ç½‘çš„å›¾ç‰‡ç¤ºä¾‹ï¼š<a href="https://developer.android.com/reference/android/graphics/PorterDuff.Mode.html" target="_blank" rel="noopener">https://developer.android.com/reference/android/graphics/PorterDuff.Mode.html</a></p>
</blockquote>
</li>
</ul>
<blockquote>
<ol>
<li>ComposeShader : æ··åˆä¸¤ä¸ª Shader</li>
<li>PorterDuffColorFilter :å¢åŠ ä¸€ä¸ªå•è‰²çš„ ColorFilter</li>
<li>Xfermode :è®¾ç½®ç»˜åˆ¶å†…å®¹å’Œ View ä¸­å·²æœ‰å†…å®¹çš„æ··åˆè®¡ç®—æ–¹å¼(åªèƒ½ä½¿ç”¨å…¶å­ç±» PorterDuffXfermode)</li>
</ol>
</blockquote>
<h2 id="Clip-è£åˆ‡"><a href="#Clip-è£åˆ‡" class="headerlink" title="Clip è£åˆ‡"></a>Clip è£åˆ‡</h2><ul>
<li><p>clipRect()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">canvas.clipRect(left, top, right, bottom);  </span><br><span class="line">canvas.drawBitmap(bitmap, x, y, paint);</span><br></pre></td></tr></table></figure>
</li>
<li><p>clipPath()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">canvas.save();  </span><br><span class="line">canvas.clipPath(path1);  </span><br><span class="line">canvas.drawBitmap(bitmap, point1.x, point1.y, paint);  </span><br><span class="line">canvas.restore();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="å˜æ¢"><a href="#å˜æ¢" class="headerlink" title="å˜æ¢"></a>å˜æ¢</h2><h4 id="ç®€å•äºŒç»´"><a href="#ç®€å•äºŒç»´" class="headerlink" title="ç®€å•äºŒç»´"></a>ç®€å•äºŒç»´</h4><p>ä½ç§» æ—‹è½¬</p>
<ul>
<li><p>translate(float dx, float dy) å¹³ç§»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">canvas.save();  </span><br><span class="line">canvas.translate(200, 0);  </span><br><span class="line">canvas.drawBitmap(bitmap, x, y, paint);  </span><br><span class="line">canvas.restore();</span><br></pre></td></tr></table></figure>
</li>
<li><p>rotate(float è§’åº¦, float px, float py) æ—‹è½¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">canvas.save();  </span><br><span class="line">canvas.clipRect(left, top, right, bottom);  </span><br><span class="line">canvas.drawBitmap(bitmap, x, y, paint);  </span><br><span class="line">canvas.restore();</span><br></pre></td></tr></table></figure>
</li>
<li><p>scale(float sx, float sy, float px, float py) æ”¾ç¼©</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">canvas.save();  </span><br><span class="line">canvas.scale(1.3f, 1.3f, x + bitmapWidth / 2, y + bitmapHeight / 2);  </span><br><span class="line">canvas.drawBitmap(bitmap, x, y, paint);  </span><br><span class="line">canvas.restore();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Matrix-äºŒç»´å˜æ¢"><a href="#Matrix-äºŒç»´å˜æ¢" class="headerlink" title="Matrix äºŒç»´å˜æ¢"></a>Matrix äºŒç»´å˜æ¢</h4><blockquote>
<p>ç•¥</p>
</blockquote>
<h4 id="Camera-ä¸‰ç»´å˜æ¢"><a href="#Camera-ä¸‰ç»´å˜æ¢" class="headerlink" title="Camera ä¸‰ç»´å˜æ¢"></a>Camera ä¸‰ç»´å˜æ¢</h4><p>æ—‹è½¬ã€å¹³ç§»ã€ç§»åŠ¨ç›¸æœº</p>
<ul>
<li><p>Camera.rotateX()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">canvas.save();</span><br><span class="line">camera.rotateX(30); // æ—‹è½¬ Camera çš„ä¸‰ç»´ç©ºé—´  </span><br><span class="line">camera.applyToCanvas(canvas); // æŠŠæ—‹è½¬æŠ•å½±åˆ° Canvas</span><br><span class="line">canvas.drawBitmap(bitmap, point1.x, point1.y, paint);  </span><br><span class="line">canvas.restore();</span><br></pre></td></tr></table></figure>
</li>
<li><p>Camera.translate(float x, float y, float z) ç§»åŠ¨</p>
</li>
<li><p>Camera.setLocation(x, y, z) è®¾ç½®è™šæ‹Ÿç›¸æœºçš„ä½ç½®</p>
</li>
</ul>
<h2 id="æ–‡å­—"><a href="#æ–‡å­—" class="headerlink" title="æ–‡å­—"></a>æ–‡å­—</h2><h2 id="çŠ¶æ€ä¿å­˜"><a href="#çŠ¶æ€ä¿å­˜" class="headerlink" title="çŠ¶æ€ä¿å­˜"></a>çŠ¶æ€ä¿å­˜</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomView</span> <span class="keyword">extends</span> <span class="title">View</span></span>&#123;</span><br><span class="line">  <span class="meta">@Nullable</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Parcelable <span class="title">onSaveInstanceState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Parcelable superState = <span class="keyword">super</span>.onSaveInstanceState();</span><br><span class="line">        CustomView.SaveState myState = <span class="keyword">new</span> CustomView.SaveState(superState);</span><br><span class="line">        myState.text = <span class="keyword">this</span>.mText;</span><br><span class="line">        myState.progressRatio = <span class="keyword">this</span>.mProgressRatio;</span><br><span class="line">        <span class="keyword">return</span> myState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onRestoreInstanceState</span><span class="params">(Parcelable state)</span> </span>&#123;</span><br><span class="line">        SaveState saveState = (CustomView.SaveState) state;</span><br><span class="line">        <span class="keyword">super</span>.onRestoreInstanceState(saveState.getSuperState());</span><br><span class="line">        <span class="keyword">this</span>.mText = saveState.text;</span><br><span class="line">        <span class="keyword">this</span>.mProgressRatio = saveState.progressRatio;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SaveState</span> <span class="keyword">extends</span> <span class="title">BaseSavedState</span> </span>&#123;</span><br><span class="line">        String text;</span><br><span class="line">        <span class="keyword">float</span> progressRatio;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">SaveState</span><span class="params">(Parcel source)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(source);</span><br><span class="line">            text = source.readString();</span><br><span class="line">            progressRatio = source.readFloat();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">SaveState</span><span class="params">(Parcelable superState)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(superState);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">writeToParcel</span><span class="params">(Parcel out, <span class="keyword">int</span> flags)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>.writeToParcel(out, flags);</span><br><span class="line">            out.writeString(text);</span><br><span class="line">            out.writeFloat(progressRatio);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Parcelable.Creator&lt;CustomView.SaveState&gt; CREATOR</span><br><span class="line">                = <span class="keyword">new</span> Parcelable.Creator&lt;CustomView.SaveState&gt;() &#123;</span><br><span class="line">            <span class="keyword">public</span> CustomView.<span class="function">SaveState <span class="title">createFromParcel</span><span class="params">(Parcel in)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> CustomView.SaveState(in);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> CustomView.SaveState[] newArray(<span class="keyword">int</span> size) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> CustomView.SaveState[size];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/06/51-Kotlinå¸¸è§é«˜é˜¶å‡½æ•°-ç¬”è®°/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Kotlin StandardKt éæ ‡å‡†å‡½æ•°ä½¿ç”¨æ€»ç»“
        
      </div>
    </a>
  
  
    <a href="/2019/01/02/50-Messenger-ç¬”è®°/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Android Messenger ä½¿ç”¨ç¬”è®°</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<div class="social-share"></div>

	<!--  css & js -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
</div>









</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020 ğ‘ºğ’‚ğ’.ğ‘´ğ’
    	</div>
      	<div class="footer-right">
      		<p>
            <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten    
            </p>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/mobile.js"></script>
<script src="/js/main.js"></script>


<!--ç™¾åº¦ç»Ÿè®¡çš„ä»£ç -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b7e1df5af826817394109f5f7425af1a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




  </div>
</body>
</html>